<?xml version="1.0" encoding="UTF-8"?>

<CapabilityStatement xmlns="http://hl7.org/fhir">
  <id value="CapabilityStatementEHRRepository"/>
  <text>
    <status value="extensions"/><div xmlns="http://www.w3.org/1999/xhtml"><h2>CapabilityStatementEHRRepository</h2><div><p>連續性用藥處方工作流程-電子病歷儲存庫(EHR Repository)伺服器端(Server)之能力聲明</p>
</div><table><tr><td>Mode</td><td>SERVER</td></tr><tr><td>Description</td><td><div><p>使用連續性用藥處方工作流程-開立處方箋應用系統端能力聲明中的查詢參數，支援新增、更新、讀取和查詢一個或多個Profile(s)，必須 (SHALL)</p>
<ol>
<li>可透過FHIR RESTful API查詢的Resources</li>
<li>根據FHIR規範實作RESTful</li>
<li>HTTP回傳狀態碼</li>
</ol>
<ul>
<li>(Status 400)：無效參數(invalid parameter)</li>
<li>(Status 401/4xx)：未經授權的請求(unauthorized request)</li>
<li>(Status 403)：未充分授權的資料存取範圍(insufficient premission scope)</li>
<li>(Status 404)：未知的resource(unknown resource)</li>
</ul>
<ol>
<li>Server提供的API操作皆支援JSON格式</li>
<li>Server提供的API操作皆支援XML格式</li>
<li>可識別每個新增到Server的實例(instance)之 meta.profile是否為iClaim Profiles Defining URL，並確認實例是否依循profile製作。【註：實例是指依據profile實作，將真實資料以JSON、XML或Turtle格式存放的檔案】</li>
<li>支援每個profile的查詢參數
安全性</li>
<li>Server必須(SHALL)透過回傳 HTTP 401「未授權」， HTTP 403「禁止」，或 HTTP 404 「未找到」，來拒絕任何未經授權的請求。</li>
</ol>
</div></td></tr><tr><td>Transaction</td><td></td></tr><tr><td>System History</td><td></td></tr><tr><td>System Search</td><td></td></tr></table><table><tr><th><b>Resource Type</b></th><th><b>Profile</b></th><th><b title="GET a resource (read interaction)">Read</b></th><th><b title="GET past versions of resources (vread interaction)">V-Read</b></th><th><b title="GET all set of resources of the type (search interaction)">Search</b></th><th><b title="PUT a new resource version (update interaction)">Update</b></th><th><b title="POST a new resource (create interaction)">Create</b></th></tr><tr><td>MedicationRequest</td><td><a href="https://prescription.cgh.org.tw/StructureDefinition-MedicationRequest-tw-ContinuousPrescription.html">https://prescription.cgh.org.tw/StructureDefinition/MedicationRequest-tw-ContinuousPrescription</a></td><td>y</td><td>y</td><td>y</td><td>y</td><td>y</td></tr><tr><td>MedicationDispense</td><td><a href="https://prescription.cgh.org.tw/StructureDefinition-MedicationDispense-tw-ContinuousPrescription.html">https://prescription.cgh.org.tw/StructureDefinition/MedicationDispense-tw-ContinuousPrescription</a></td><td>y</td><td>y</td><td>y</td><td>y</td><td>y</td></tr><tr><td>MedicationAdministration</td><td><a href="https://prescription.cgh.org.tw/StructureDefinition-MedicationAdministration-tw-ContinuousPrescription.html">https://prescription.cgh.org.tw/StructureDefinition/MedicationAdministration-tw-ContinuousPrescription</a></td><td>y</td><td>y</td><td>y</td><td>y</td><td>y</td></tr></table></div>
  </text>
  <url value="https://prescription.cgh.org.tw/CapabilityStatement/CapabilityStatementEHRRepository"/>
  <version value="0.1.0"/>
  <name value="CapabilityStatementEHRRepository"/>
  <title value="連續性用藥處方工作流程-電子病歷儲存庫(EHR Repository)伺服器端(Server)"/>
  <status value="active"/>
  <experimental value="false"/>
  <date value="2023-10-31"/>
  <publisher value="Cathay Holdings"/>
  <contact>
    <name value="Cathay Holdings"/>
    <telecom>
      <system value="url"/>
      <value value="https://www.cathayholdings.com/holdings/"/>
    </telecom>
    <telecom>
      <system value="email"/>
      <value value="shvoidlee@gmail.com"/>
    </telecom>
  </contact>
  <description value="連續性用藥處方工作流程-電子病歷儲存庫(EHR Repository)伺服器端(Server)之能力聲明"/>
  <kind value="requirements"/>
  <fhirVersion value="4.0.1"/>
  <format value="xml"/>
  <format value="json"/>
  <patchFormat value="application/json-patch+json"/>
  <implementationGuide value="https://prescription.cgh.org.tw"/>
  <rest>
    <mode value="server"/>
    <documentation value="使用連續性用藥處方工作流程-開立處方箋應用系統端能力聲明中的查詢參數，支援新增、更新、讀取和查詢一個或多個Profile(s)，必須 (SHALL)&#xA;1.  可透過FHIR RESTful API查詢的Resources&#xA;2.  根據FHIR規範實作RESTful&#xA;3.  HTTP回傳狀態碼&#xA; - (Status 400)：無效參數(invalid parameter)&#xA; - (Status 401/4xx)：未經授權的請求(unauthorized request)&#xA; - (Status 403)：未充分授權的資料存取範圍(insufficient premission scope)&#xA; - (Status 404)：未知的resource(unknown resource)&#xA;4.  Server提供的API操作皆支援JSON格式&#xA;5.  Server提供的API操作皆支援XML格式&#xA;6.  可識別每個新增到Server的實例(instance)之 meta.profile是否為iClaim Profiles Defining URL，並確認實例是否依循profile製作。【註：實例是指依據profile實作，將真實資料以JSON、XML或Turtle格式存放的檔案】&#xA;7.  支援每個profile的查詢參數&#xA;安全性&#xA;1.  Server必須(SHALL)透過回傳 HTTP 401「未授權」， HTTP 403「禁止」，或 HTTP 404 「未找到」，來拒絕任何未經授權的請求。"/>
    <resource>
      <type value="MedicationRequest"/>
      <profile value="https://prescription.cgh.org.tw/StructureDefinition/MedicationRequest-tw-ContinuousPrescription">
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
      </profile>
      <interaction>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <code value="create"/>
      </interaction>
      <interaction>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <code value="update"/>
      </interaction>
      <interaction>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <code value="read"/>
      </interaction>
      <interaction>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <code value="vread"/>
      </interaction>
      <interaction>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <code value="search-type"/>
      </interaction>
      <referencePolicy value="resolves"/>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationRequest-id"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationRequest-id"/>
        <type value="token"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationRequest-identifier"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationRequest-identifier"/>
        <type value="token"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationRequest-status"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationRequest-status"/>
        <type value="token"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationRequest-intent"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationRequest-intent"/>
        <type value="token"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationRequest-category"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationRequest-category"/>
        <type value="token"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationRequest-code"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationRequest-code"/>
        <type value="token"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationRequest-medication"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationRequest-medication"/>
        <type value="reference"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationRequest-date"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationRequest-date"/>
        <type value="date"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationRequest-authoredon"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationRequest-authoredon"/>
        <type value="date"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationRequest-patient"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationRequest-patient"/>
        <type value="reference"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationRequest-subject"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationRequest-subject"/>
        <type value="reference"/>
      </searchParam>
    </resource>
    <resource>
      <type value="MedicationDispense"/>
      <profile value="https://prescription.cgh.org.tw/StructureDefinition/MedicationDispense-tw-ContinuousPrescription">
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
      </profile>
      <interaction>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <code value="create"/>
      </interaction>
      <interaction>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <code value="update"/>
      </interaction>
      <interaction>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <code value="read"/>
      </interaction>
      <interaction>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <code value="vread"/>
      </interaction>
      <interaction>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <code value="search-type"/>
      </interaction>
      <referencePolicy value="resolves"/>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationDispense-id"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationDispense-id"/>
        <type value="token"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationDispense-identifier"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationDispense-identifier"/>
        <type value="token"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationDispense-status"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationDispense-status"/>
        <type value="token"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationDispense-type"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationDispense-type"/>
        <type value="token"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationDispense-code"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationDispense-code"/>
        <type value="token"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationDispense-medication"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationDispense-medication"/>
        <type value="reference"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationDispense-whenhandedover"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationDispense-whenhandedover"/>
        <type value="date"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationDispense-prescription"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationDispense-prescription"/>
        <type value="reference"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationDispense-patient"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationDispense-patient"/>
        <type value="reference"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationDispense-subject"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationDispense-subject"/>
        <type value="reference"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationDispense-performer"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationDispense-performer"/>
        <type value="reference"/>
      </searchParam>
    </resource>
    <resource>
      <type value="MedicationAdministration"/>
      <profile value="https://prescription.cgh.org.tw/StructureDefinition/MedicationAdministration-tw-ContinuousPrescription">
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
      </profile>
      <interaction>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <code value="create"/>
      </interaction>
      <interaction>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <code value="update"/>
      </interaction>
      <interaction>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <code value="read"/>
      </interaction>
      <interaction>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <code value="vread"/>
      </interaction>
      <interaction>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <code value="search-type"/>
      </interaction>
      <referencePolicy value="resolves"/>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationAdministration-id"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationAdministration-id"/>
        <type value="token"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationAdministration-identifier"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationAdministration-identifier"/>
        <type value="token"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationAdministration-status"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationAdministration-status"/>
        <type value="token"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationAdministration-code"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationAdministration-code"/>
        <type value="token"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationAdministration-medication"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationAdministration-medication"/>
        <type value="reference"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationAdministration-effective-time"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationAdministration-effective-time"/>
        <type value="date"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationAdministration-request"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationAdministration-request"/>
        <type value="reference"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationAdministration-patient"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationAdministration-patient"/>
        <type value="reference"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationAdministration-subject"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationAdministration-subject"/>
        <type value="reference"/>
      </searchParam>
      <searchParam>
        <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
          <valueCode value="SHALL"/>
        </extension>
        <name value="MedicationAdministration-performer"/>
        <definition value="https://prescription.cgh.org.tw/SearchParameter/MedicationAdministration-performer"/>
        <type value="reference"/>
      </searchParam>
    </resource>
  </rest>
</CapabilityStatement>